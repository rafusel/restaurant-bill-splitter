{"version":3,"sources":["OrderersForm.jsx","ReceiptForm.jsx","OutputTable.jsx","App.js","index.js"],"names":["OrderersForm","props","orderers","map","orderer","index","Fragment","toString","onClick","deleteOrderer","useState","newOrderer","setNewOrderer","value","onChange","event","target","addOrderer","ReceiptForm","state","name","cost","handleMealCostUpdate","bind","handleMealNameUpdate","handleMealOrdererUpdate","addMealItem","deleteMealItem","this","setState","alert","receipt","mealItems","item","total","e","updateTotal","deliveryFee","updateDeliveryFee","serviceFee","updateServiceFee","React","Component","OutputTable","reduce","mealItem","parseFloat","subtotal","shareEquallyTotalPerPerson","length","totalMinusShareEquallyValues","totals","forEach","fractionOfSubtotal","getMealItemTotalByOrderer","getSubtotal","ordererShareOfTotal","push","totalFloat","serviceFeeFloat","deliveryFeeFloat","receiptValuesAreFloats","hasOrderers","mealCostsAreFloats","every","getShareTotals","toFixed","App","splice","mealItemIndices","reverse","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bc12b56d.chunk.js","sourcesContent":["import React,  {useState} from 'react';\r\n\r\nexport default function OrderersForm(props) {\r\n  const orderers = props.orderers.map((orderer, index) => {\r\n    return (\r\n      <React.Fragment>\r\n        <li>{orderer.toString()}</li>\r\n        <button onClick={() => { props.deleteOrderer(index) }}>Delete Me</button>\r\n      </React.Fragment>\r\n    );\r\n  });\r\n\r\n  const [newOrderer, setNewOrderer] = useState('');\r\n\r\n  const onAddOrdererClick = () => {\r\n    setNewOrderer('');\r\n    props.addOrderer(newOrderer);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Orderers</h1>\r\n      <ul>\r\n        {orderers}\r\n      </ul>\r\n      <h2>\r\n        Add Orderer\r\n      </h2>\r\n      <input value={newOrderer} onChange={(event) => { setNewOrderer(event.target.value) }} />\r\n      <button onClick={onAddOrdererClick}>Add Orderer</button>\r\n    </div>\r\n\r\n  );\r\n}","import React from 'react';\r\n\r\nexport default class ReceiptForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      cost: '',\r\n      orderer: 'changeme',\r\n    };\r\n\r\n    this.handleMealCostUpdate = this.handleMealCostUpdate.bind(this);\r\n    this.handleMealNameUpdate = this.handleMealNameUpdate.bind(this);\r\n    this.handleMealOrdererUpdate = this.handleMealOrdererUpdate.bind(this);\r\n    this.addMealItem = this.addMealItem.bind(this);\r\n    this.deleteMealItem = this.deleteMealItem.bind(this);\r\n  }\r\n\r\n  handleMealNameUpdate(event) {\r\n    this.setState({\r\n      name: event.target.value,\r\n    });\r\n  }\r\n\r\n  handleMealCostUpdate(event) {\r\n    this.setState({\r\n      cost: event.target.value,\r\n    });\r\n  }\r\n\r\n  handleMealOrdererUpdate(event) {\r\n    this.setState({\r\n      orderer: event.target.value,\r\n    });\r\n  }\r\n\r\n  addMealItem() {\r\n    if (this.state.orderer !== 'changeme') {\r\n      this.setState({\r\n        name: '',\r\n        orderer: 'changeme',\r\n        cost: '',\r\n      });\r\n      this.props.addMealItem(this.state);\r\n    } else {\r\n      alert('Change the orderer for this meal item.')\r\n    }\r\n  }\r\n\r\n  deleteMealItem(index) {\r\n    this.props.deleteMealItem(index);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>\r\n          Meal Details\r\n        </h1>\r\n\r\n        <h2>\r\n          Meal Items\r\n        </h2>\r\n        <table>\r\n          <tr>\r\n            <th>\r\n              Item\r\n            </th>\r\n            <th>\r\n              Cost\r\n            </th>\r\n            <th>\r\n              Orderer\r\n            </th>\r\n            <th>\r\n              Delete Button\r\n            </th>\r\n          </tr>\r\n          {this.props.receipt.mealItems.map((item, index) => (\r\n            <tr key={index}>\r\n              <td>{item.name}</td>\r\n              <td>{item.cost}</td>\r\n              <td>{item.orderer}</td>\r\n              <td><button onClick={() => { this.deleteMealItem(index) }}>Delete Me</button></td>\r\n            </tr>\r\n          ))}\r\n        </table>\r\n\r\n        <h3>\r\n          Add Meal Items\r\n        </h3>\r\n        <label>\r\n          Meal Item Name\r\n        </label>\r\n        <input value={this.state.name} onChange={this.handleMealNameUpdate} />\r\n\r\n        <label>\r\n          Meal Item Cost\r\n        </label>\r\n        <input value={this.state.cost} onChange={this.handleMealCostUpdate} />\r\n\r\n        <label>\r\n          Meal Item Orderer\r\n        </label>\r\n        <select value={this.state.orderer} onChange={this.handleMealOrdererUpdate}>\r\n          <option value=\"changeme\">Change Me</option>\r\n          {\r\n            this.props.orderers.map((orderer, index) => (\r\n              <option value={orderer}>{orderer}</option>\r\n            ))\r\n          }\r\n        </select>\r\n\r\n        <button onClick={this.addMealItem}>Add Meal Item</button>\r\n\r\n        <h2>\r\n          Total\r\n        </h2>\r\n        <input value={this.props.receipt.total.toString()}  onChange={(e) => { this.props.updateTotal(e.target.value) }} />\r\n\r\n        <h2>\r\n          Delivery Fee\r\n        </h2>\r\n        <input value={this.props.receipt.deliveryFee.toString()} onChange={(e) => { this.props.updateDeliveryFee(e.target.value) }} />\r\n\r\n        <h2>\r\n          Service Fee\r\n        </h2>\r\n        <input value={this.props.receipt.serviceFee.toString()} onChange={(e) => { this.props.updateServiceFee(e.target.value) }} />\r\n      </div>\r\n    );\r\n  }\r\n}","import React from 'react';\r\n\r\nexport default class OutputTable extends React.Component {\r\n  getMealItemTotalByOrderer(orderer) {\r\n\r\n    const itemTotal = this.props.receipt.mealItems.reduce((total, mealItem) => (\r\n      mealItem.orderer === orderer ? total + parseFloat(mealItem.cost) : total\r\n    ), 0);\r\n    return itemTotal;\r\n  }\r\n\r\n  getSubtotal() {\r\n    return this.props.receipt.mealItems.reduce((subtotal, mealItem) => (\r\n      subtotal + parseFloat(mealItem.cost)\r\n    ), 0);\r\n  }\r\n\r\n  getShareTotals() {\r\n    const shareEquallyTotalPerPerson = (parseFloat(this.props.receipt.deliveryFee)\r\n      + parseFloat(this.props.receipt.serviceFee)) / this.props.orderers.length;\r\n\r\n    const totalMinusShareEquallyValues = parseFloat(this.props.receipt.total) - (\r\n      parseFloat(this.props.receipt.deliveryFee) + parseFloat(this.props.receipt.serviceFee)\r\n    );\r\n\r\n    const totals = [];\r\n    this.props.orderers.forEach((orderer) => {\r\n      const mealItemTotalForOrderer = this.getMealItemTotalByOrderer(orderer);\r\n      const fractionOfSubtotal = mealItemTotalForOrderer / this.getSubtotal();\r\n      const ordererShareOfTotal = shareEquallyTotalPerPerson + (fractionOfSubtotal * totalMinusShareEquallyValues);\r\n      totals.push(ordererShareOfTotal);\r\n    })\r\n    return totals;\r\n  }\r\n\r\n  render() {\r\n    const totalFloat = parseFloat(this.props.receipt.total);\r\n    const serviceFeeFloat = parseFloat(this.props.receipt.serviceFee);\r\n    const deliveryFeeFloat = parseFloat(this.props.receipt.deliveryFee);\r\n    const receiptValuesAreFloats = totalFloat && serviceFeeFloat && deliveryFeeFloat;\r\n    const hasOrderers = this.props.orderers.length;\r\n    const mealCostsAreFloats = this.props.receipt.mealItems.every((mealItem) => (\r\n      parseFloat(mealItem.cost)\r\n    ));\r\n\r\n    if (receiptValuesAreFloats && hasOrderers && mealCostsAreFloats) {\r\n      return (\r\n        <div>\r\n          <h1>\r\n            Your splits\r\n          </h1>\r\n          <table>\r\n            <tr>\r\n              <th>\r\n                Orderer\r\n              </th>\r\n              <th>\r\n                Share of Total\r\n              </th>\r\n            </tr>\r\n            {\r\n              this.getShareTotals().map((total, index) => (\r\n                <tr>\r\n                  <td>{this.props.orderers[index]}</td>\r\n                  <td>{`$${total.toFixed(2)}`}</td>\r\n                </tr>\r\n              ))\r\n            }\r\n          </table>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h1>\r\n          Your splits\r\n        </h1>\r\n        <p>\r\n          Something's not quite right.\r\n        </p>\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react';\nimport OrderersForm from './OrderersForm';\nimport ReceiptForm from './ReceiptForm';\nimport OutputTable from './OutputTable';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      receipt: {\n        mealItems: [],\n        deliveryFee: '',\n        serviceFee: '',\n        total: '',\n      },\n      orderers: [],\n    };\n  }\n\n  addOrderer = (orderer) => {\n    const orderers = this.state.orderers;\n    orderers.push(orderer);\n    this.setState({ orderers });\n  }\n\n  deleteOrderer = (index) => {\n    const orderers = this.state.orderers;\n    const orderer = orderers[index];\n    orderers.splice(index, 1);\n    this.setState({ orderers });\n\n    // We need to delete all meal items that this person ordered\n    const mealItems = this.state.receipt.mealItems;\n    const mealItemIndices = []\n    mealItems.forEach((mealItem, index) => {\n      if (mealItem.orderer === orderer) {\n        mealItemIndices.push(index);\n      }\n    });\n\n    mealItemIndices.reverse().forEach((index) => {\n      mealItems.splice(index, 1);\n    });\n\n    const receipt = this.state.receipt;\n    receipt.mealItems = mealItems;\n    this.setState({ receipt });\n  }\n\n  updateTotal = (total) => {\n    const receipt = this.state.receipt;\n    receipt.total = total;\n    this.setState({ receipt });\n  }\n\n  updateDeliveryFee = (deliveryFee) => {\n    const receipt = this.state.receipt;\n    receipt.deliveryFee = deliveryFee;\n    this.setState({ receipt });  }\n\n  updateServiceFee = (serviceFee) => {\n    const receipt = this.state.receipt;\n    receipt.serviceFee = serviceFee;\n    this.setState({ receipt });  }\n\n  addMealItem = (mealItem) => {\n    const mealItems = this.state.receipt.mealItems;\n    mealItems.push(mealItem);\n\n    const receipt = this.state.receipt;\n    receipt.mealItems = mealItems\n    this.setState({ receipt });\n  }\n\n  deleteMealItem = (index) => {\n    const mealItems = this.state.receipt.mealItems;\n    mealItems.splice(index, 1);\n\n    const receipt = this.state.receipt;\n    receipt.mealItems = mealItems;\n    this.setState({ receipt });\n  }\n\n  render() {\n    return (\n      <div>\n        <OrderersForm\n          orderers={this.state.orderers}\n          addOrderer={this.addOrderer}\n          deleteOrderer={this.deleteOrderer}\n        />\n\n        <ReceiptForm\n          updateServiceFee={this.updateServiceFee}\n          updateDeliveryFee={this.updateDeliveryFee}\n          updateTotal={this.updateTotal}\n          addMealItem={this.addMealItem}\n          deleteMealItem={this.deleteMealItem}\n          orderers={this.state.orderers}\n          receipt={this.state.receipt}\n        />\n\n        <OutputTable\n          receipt={this.state.receipt}\n          orderers={this.state.orderers}\n        />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}