(this["webpackJsonprestaurant-bill-splitter"]=this["webpackJsonprestaurant-bill-splitter"]||[]).push([[0],{15:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r(1),i=r.n(s),c=r(8),n=r.n(c),l=r(3),d=r(4),o=r(6),h=r(5),p=r(9);function j(e){var t=e.orderers.map((function(t,r){return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("li",{children:t.toString()}),Object(a.jsx)("button",{onClick:function(){e.deleteOrderer(r)},children:"Delete Me"})]})})),r=Object(s.useState)(""),c=Object(p.a)(r,2),n=c[0],l=c[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Orderers"}),Object(a.jsx)("ul",{children:t}),Object(a.jsx)("h2",{children:"Add Orderer"}),Object(a.jsx)("input",{value:n,onChange:function(e){l(e.target.value)}}),Object(a.jsx)("button",{onClick:function(){l(""),e.addOrderer(n)},children:"Add Orderer"})]})}var u=r(2),b=function(e){Object(o.a)(r,e);var t=Object(h.a)(r);function r(e){var a;return Object(l.a)(this,r),(a=t.call(this,e)).state={name:"",cost:"",orderer:"changeme"},a.handleMealCostUpdate=a.handleMealCostUpdate.bind(Object(u.a)(a)),a.handleMealNameUpdate=a.handleMealNameUpdate.bind(Object(u.a)(a)),a.handleMealOrdererUpdate=a.handleMealOrdererUpdate.bind(Object(u.a)(a)),a.addMealItem=a.addMealItem.bind(Object(u.a)(a)),a.deleteMealItem=a.deleteMealItem.bind(Object(u.a)(a)),a}return Object(d.a)(r,[{key:"handleMealNameUpdate",value:function(e){this.setState({name:e.target.value})}},{key:"handleMealCostUpdate",value:function(e){this.setState({cost:e.target.value})}},{key:"handleMealOrdererUpdate",value:function(e){this.setState({orderer:e.target.value})}},{key:"addMealItem",value:function(){"changeme"!==this.state.orderer?(this.setState({name:"",orderer:"changeme",cost:""}),this.props.addMealItem(this.state)):alert("Change the orderer for this meal item.")}},{key:"deleteMealItem",value:function(e){this.props.deleteMealItem(e)}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Meal Details"}),Object(a.jsx)("h2",{children:"Meal Items"}),Object(a.jsxs)("table",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Item"}),Object(a.jsx)("th",{children:"Cost"}),Object(a.jsx)("th",{children:"Orderer"}),Object(a.jsx)("th",{children:"Delete Button"})]}),this.props.receipt.mealItems.map((function(t,r){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.name}),Object(a.jsx)("td",{children:t.cost}),Object(a.jsx)("td",{children:t.orderer}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{onClick:function(){e.deleteMealItem(r)},children:"Delete Me"})})]},r)}))]}),Object(a.jsx)("h3",{children:"Add Meal Items"}),Object(a.jsx)("label",{children:"Meal Item Name"}),Object(a.jsx)("input",{value:this.state.name,onChange:this.handleMealNameUpdate}),Object(a.jsx)("label",{children:"Meal Item Cost"}),Object(a.jsx)("input",{value:this.state.cost,onChange:this.handleMealCostUpdate}),Object(a.jsx)("label",{children:"Meal Item Orderer"}),Object(a.jsxs)("select",{value:this.state.orderer,onChange:this.handleMealOrdererUpdate,children:[Object(a.jsx)("option",{value:"changeme",children:"Change Me"}),this.props.orderers.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e})}))]}),Object(a.jsx)("button",{onClick:this.addMealItem,children:"Add Meal Item"}),Object(a.jsx)("h2",{children:"Total"}),Object(a.jsx)("input",{value:this.props.receipt.total.toString(),onChange:function(t){e.props.updateTotal(t.target.value)}}),Object(a.jsx)("h2",{children:"Delivery Fee"}),Object(a.jsx)("input",{value:this.props.receipt.deliveryFee.toString(),onChange:function(t){e.props.updateDeliveryFee(t.target.value)}}),Object(a.jsx)("h2",{children:"Service Fee"}),Object(a.jsx)("input",{value:this.props.receipt.serviceFee.toString(),onChange:function(t){e.props.updateServiceFee(t.target.value)}})]})}}]),r}(i.a.Component),O=function(e){Object(o.a)(r,e);var t=Object(h.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"getMealItemTotalByOrderer",value:function(e){return this.props.receipt.mealItems.reduce((function(t,r){return r.orderer===e?t+parseFloat(r.cost):t}),0)}},{key:"getSubtotal",value:function(){return this.props.receipt.mealItems.reduce((function(e,t){return e+parseFloat(t.cost)}),0)}},{key:"getShareTotals",value:function(){var e=this,t=(parseFloat(this.props.receipt.deliveryFee)+parseFloat(this.props.receipt.serviceFee))/this.props.orderers.length,r=parseFloat(this.props.receipt.total)-(parseFloat(this.props.receipt.deliveryFee)+parseFloat(this.props.receipt.serviceFee)),a=[];return this.props.orderers.forEach((function(s){var i=e.getMealItemTotalByOrderer(s)/e.getSubtotal(),c=t+i*r;a.push(c)})),a}},{key:"render",value:function(){var e=this,t=parseFloat(this.props.receipt.total),r=parseFloat(this.props.receipt.serviceFee),s=parseFloat(this.props.receipt.deliveryFee),i=t&&r&&s,c=this.props.orderers.length,n=this.props.receipt.mealItems.every((function(e){return parseFloat(e.cost)}));return i&&c&&n?Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Your splits"}),Object(a.jsxs)("table",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Orderer"}),Object(a.jsx)("th",{children:"Share of Total"})]}),this.getShareTotals().map((function(t,r){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.props.orderers[r]}),Object(a.jsx)("td",{children:"$".concat(t.toFixed(2))})]})}))]})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Your splits"}),Object(a.jsx)("p",{children:"Something's not quite right."})]})}}]),r}(i.a.Component),v=function(e){Object(o.a)(r,e);var t=Object(h.a)(r);function r(e){var a;return Object(l.a)(this,r),(a=t.call(this,e)).addOrderer=function(e){var t=a.state.orderers;t.push(e),a.setState({orderers:t})},a.deleteOrderer=function(e){var t=a.state.orderers,r=t[e];t.splice(e,1),a.setState({orderers:t});var s=a.state.receipt.mealItems,i=[];s.forEach((function(e,t){e.orderer===r&&i.push(t)})),i.reverse().forEach((function(e){s.splice(e,1)}));var c=a.state.receipt;c.mealItems=s,a.setState({receipt:c})},a.updateTotal=function(e){var t=a.state.receipt;t.total=e,a.setState({receipt:t})},a.updateDeliveryFee=function(e){var t=a.state.receipt;t.deliveryFee=e,a.setState({receipt:t})},a.updateServiceFee=function(e){var t=a.state.receipt;t.serviceFee=e,a.setState({receipt:t})},a.addMealItem=function(e){var t=a.state.receipt.mealItems;t.push(e);var r=a.state.receipt;r.mealItems=t,a.setState({receipt:r})},a.deleteMealItem=function(e){var t=a.state.receipt.mealItems;t.splice(e,1);var r=a.state.receipt;r.mealItems=t,a.setState({receipt:r})},a.state={receipt:{mealItems:[],deliveryFee:"",serviceFee:"",total:""},orderers:[]},a}return Object(d.a)(r,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(j,{orderers:this.state.orderers,addOrderer:this.addOrderer,deleteOrderer:this.deleteOrderer}),Object(a.jsx)(b,{updateServiceFee:this.updateServiceFee,updateDeliveryFee:this.updateDeliveryFee,updateTotal:this.updateTotal,addMealItem:this.addMealItem,deleteMealItem:this.deleteMealItem,orderers:this.state.orderers,receipt:this.state.receipt}),Object(a.jsx)(O,{receipt:this.state.receipt,orderers:this.state.orderers})]})}}]),r}(i.a.Component);n.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.bc12b56d.chunk.js.map