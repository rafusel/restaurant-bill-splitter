(this["webpackJsonprestaurant-bill-splitter"]=this["webpackJsonprestaurant-bill-splitter"]||[]).push([[0],{108:function(e,t,r){},224:function(e,t,r){"use strict";r.r(t);var a=r(10),s=r(0),i=r.n(s),n=r(23),l=r.n(n),c=r(62),o=r(63),d=r(74),p=r(70),u=(r(108),r(115)),h=r(229),m=r(226),j=r(230),b=r(33),O=r(239),v=r(238),f=r(234);function x(e){var t={backgroundColor:e.backgroundColor,borderRadius:"10px",color:"white",fontSize:"25px",padding:"5px 15px 5px 15px",margin:"0 10px 10px 0",display:"inline-flex",alignItems:"center"};return Object(a.jsxs)("span",{style:t,children:[Object(a.jsx)(O.a,{style:{marginRight:"5px"}}),e.name,Object(a.jsx)(b.a,{type:"primary",onClick:e.handleDelete,style:{marginLeft:"20px"},children:Object(a.jsx)(f.a,{})})]})}var g=h.a.Title;function y(e){var t=e.orderers.map((function(t,r){return Object(a.jsx)(x,{name:t.name,backgroundColor:t.color,handleDelete:function(){e.deleteOrderer(r)}})})),r=JSON.parse(window.localStorage.getItem("previousOrderers")||"[]"),i=Object(s.useState)(""),n=Object(u.a)(i,2),l=n[0],c=n[1],o=Object(s.useState)(r),d=Object(u.a)(o,2),p=d[0],h=d[1],f=function(){return p.some((function(e){return e===l}))},y=function(){if(c(""),!f()&&l){var t=p;t.push(l),h(t),window.localStorage.setItem("previousOrderers",JSON.stringify(t))}e.addOrderer(l)};return Object(a.jsxs)("div",{style:{marginTop:"60px"},children:[Object(a.jsx)(g,{level:2,children:"Orderer Details"}),Object(a.jsx)(g,{level:5,children:"Add Orderer"}),Object(a.jsx)(m.a,{options:!l||f()?[]:p.map((function(e){return{value:e}})),filterOption:function(e,t){return!!t&&-1!==t.value.toUpperCase().indexOf(e.toUpperCase())},style:{width:"100%"},className:"mb-15",value:l,onChange:function(e){c(e)},onKeyPress:function(e){return"Enter"===e.key&&y()},children:Object(a.jsx)(j.a,{size:"large",placeholder:"Orderer name",prefix:Object(a.jsx)(O.a,{}),suffix:Object(a.jsx)(b.a,{type:"primary",onClick:y,children:Object(a.jsx)(v.a,{})})})}),t]})}var I=r(52),M=r(44),C=r(138),S=r(231),F=r(232),k=r(228),N=r(237),D=r(236),T=function(e){return e.replace(/[^0-9.]/g,"")},w=h.a.Title,U=M.a.Option,z=function(e){Object(d.a)(r,e);var t=Object(p.a)(r);function r(e){var a;return Object(c.a)(this,r),(a=t.call(this,e)).state={name:"",cost:"",orderer:"changeme",isModalVisible:!1},a.handleMealCostUpdate=a.handleMealCostUpdate.bind(Object(I.a)(a)),a.handleMealNameUpdate=a.handleMealNameUpdate.bind(Object(I.a)(a)),a.handleMealOrdererUpdate=a.handleMealOrdererUpdate.bind(Object(I.a)(a)),a.addMealItem=a.addMealItem.bind(Object(I.a)(a)),a.deleteMealItem=a.deleteMealItem.bind(Object(I.a)(a)),a}return Object(o.a)(r,[{key:"getColumns",value:function(){var e=this;return[{title:"Item",dataIndex:"name",key:"name"},{title:"Price",dataIndex:"cost",key:"cost"},{title:"Orderer",dataIndex:"orderer",key:"orderer"},{title:"Delete",dataIndex:"deleteFunction",render:function(t,r){return Object(a.jsx)(b.a,{type:"primary",onClick:function(){e.deleteMealItem(r.index)},children:Object(a.jsx)(f.a,{})})}}]}},{key:"handleMealNameUpdate",value:function(e){this.setState({name:e.target.value})}},{key:"handleMealCostUpdate",value:function(e){this.setState({cost:this.formatCurrencyString(this.state.cost,e.target.value)})}},{key:"handleMealOrdererUpdate",value:function(e){this.setState({orderer:e})}},{key:"addMealItem",value:function(){"changeme"!==this.state.orderer?(this.setState({name:"",orderer:"changeme",cost:"",isModalVisible:!1}),this.props.addMealItem(this.state)):C.b.error("Change the orderer for this meal item.")}},{key:"deleteMealItem",value:function(e){this.props.deleteMealItem(e)}},{key:"removeAllNonDigits",value:function(e){return e.replace(/\D/g,"")}},{key:"processCurrencyDecimals",value:function(e){return this.removeAllNonDigits(e).slice(0,2)}},{key:"processCurrencyWholeDollars",value:function(e){return this.addCurrencyCommas(this.removeAllNonDigits(e))}},{key:"addCurrencyCommas",value:function(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"formatCurrencyString",value:function(e,t){var r=t.trim(),a=e.includes("."),s=r.includes(".");if(""===this.removeAllNonDigits(r))return"";if(a&&s){var i=r.split(".");return"$ ".concat(this.processCurrencyWholeDollars(i[0]),".").concat(this.processCurrencyDecimals(i[1]))}return s?"$ ".concat(this.processCurrencyWholeDollars(r),"."):"$ ".concat(this.processCurrencyWholeDollars(r))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{style:{marginTop:"30px"},children:[Object(a.jsx)(w,{level:2,children:"Order Details"}),Object(a.jsxs)(b.a,{type:"primary",size:"large",onClick:function(){e.setState({isModalVisible:!0})},className:"mb-15",children:["Add Meal Item",Object(a.jsx)(v.a,{})]}),Object(a.jsx)(S.a,{title:"Add Meal Item",visible:this.state.isModalVisible,okText:"Add Meal Item",onOk:this.addMealItem,onCancel:function(){e.setState({isModalVisible:!1})},children:Object(a.jsxs)(F.b,{direction:"vertical",className:"w-100-percent",children:[Object(a.jsx)(j.a,{value:this.state.name,onChange:this.handleMealNameUpdate,suffix:Object(a.jsx)(N.a,{}),size:"large",placeholder:"Meal item name",className:"w-100-percent"}),Object(a.jsx)(j.a,{value:this.state.cost,onChange:this.handleMealCostUpdate,suffix:Object(a.jsx)(D.a,{}),size:"large",placeholder:"Meal item price",className:"w-100-percent",inputMode:"decimal"}),Object(a.jsxs)(M.a,{style:{width:"100%"},size:"large",value:this.state.orderer,className:"w-100-percent",onChange:this.handleMealOrdererUpdate,children:[Object(a.jsx)(U,{value:"changeme",children:"Orderer"}),this.props.orderers.map((function(e,t){return Object(a.jsx)(U,{value:e.name,children:e.name})}))]})]})}),!!this.props.receipt.mealItems.length&&Object(a.jsx)(k.a,{dataSource:this.props.receipt.mealItems.map((function(e,t){e.index=t;var r=T(e.cost),a=parseFloat(r);return e.cost="$".concat(a.toFixed(2)),e})),columns:this.getColumns(),pagination:!1,className:"mb-15"},this.props.receipt.mealItems),Object(a.jsx)(w,{level:5,children:"Total"}),Object(a.jsx)(j.a,{value:this.props.receipt.total.toString(),onChange:function(t){e.props.updateTotal(e.formatCurrencyString(e.props.receipt.total,t.target.value))},size:"large",placeholder:"$ 0.00",suffix:Object(a.jsx)(D.a,{}),className:"mb-15 max-w-300",inputMode:"decimal"}),Object(a.jsx)(w,{level:5,children:"Delivery Fee"}),Object(a.jsx)(j.a,{value:this.props.receipt.deliveryFee.toString(),onChange:function(t){e.props.updateDeliveryFee(e.formatCurrencyString(e.props.receipt.deliveryFee,t.target.value))},size:"large",placeholder:"$ 0.00",suffix:Object(a.jsx)(D.a,{}),className:"mb-15 max-w-300",inputMode:"decimal"}),Object(a.jsx)(w,{level:5,children:"Service Fee"}),Object(a.jsx)(j.a,{value:this.props.receipt.serviceFee.toString(),onChange:function(t){e.props.updateServiceFee(e.formatCurrencyString(e.props.receipt.serviceFee,t.target.value))},size:"large",placeholder:"$ 0.00",suffix:Object(a.jsx)(D.a,{}),className:"mb-15 max-w-300",inputMode:"decimal"})]})}}]),r}(i.a.Component),A=r(233),$=h.a.Title,E=[{title:"Orderer",dataIndex:"orderer",key:"orderer"},{title:"Share of Total",dataIndex:"shareOfTotal",key:"shareOfTotal"}],B=function(e){Object(d.a)(r,e);var t=Object(p.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(o.a)(r,[{key:"getMealItemTotalByOrderer",value:function(e){return this.props.receipt.mealItems.reduce((function(t,r){return r.orderer===e?t+parseFloat(T(r.cost)):t}),0)}},{key:"getSubtotal",value:function(){return this.props.receipt.mealItems.reduce((function(e,t){return e+parseFloat(T(t.cost))}),0)}},{key:"getShareTotals",value:function(){var e=this,t=(parseFloat(T(this.props.receipt.deliveryFee))+parseFloat(T(this.props.receipt.serviceFee)))/this.props.orderers.length,r=parseFloat(T(this.props.receipt.total))-(parseFloat(T(this.props.receipt.deliveryFee))+parseFloat(T(this.props.receipt.serviceFee))),a=[];return this.props.orderers.forEach((function(s){var i=e.getMealItemTotalByOrderer(s.name)/e.getSubtotal(),n=t+i*r,l={orderer:s.name,shareOfTotal:"$".concat(n.toFixed(2))};a.push(l)})),a}},{key:"render",value:function(){var e=parseFloat(T(this.props.receipt.total)),t=parseFloat(T(this.props.receipt.serviceFee)),r=parseFloat(T(this.props.receipt.deliveryFee)),s=e&&t&&r,i=this.props.orderers.length,n=this.props.receipt.mealItems.length,l=e>=this.getSubtotal()+t+r,c=this.props.receipt.mealItems.every((function(e){return parseFloat(T(e.cost))}));return s&&i&&c&&n&&l?Object(a.jsxs)("div",{style:{padding:"30px 0 30px 0"},children:[Object(a.jsx)($,{children:"Your splits"}),Object(a.jsx)(k.a,{columns:E,dataSource:this.getShareTotals(),pagination:!1,className:"mb-15"})]}):Object(a.jsxs)("div",{style:{marginTop:"30px"},children:[Object(a.jsx)($,{level:2,children:"No splits to show"}),Object(a.jsx)("div",{style:{display:"flex",alignItems:"center",width:"100%"},children:Object(a.jsx)("span",{style:{margin:"auto",fontSize:"100px"},children:Object(a.jsx)(A.a,{})})})]})}}]),r}(i.a.Component),V=r(227),J=r(235),R=function(e){Object(d.a)(r,e);var t=Object(p.a)(r);function r(e){var a;return Object(c.a)(this,r),(a=t.call(this,e)).getRandomOrdererColor=function(){var e=["#ff8519","#07d907","#c904db","#fa0c34","#0cfae2","#ff1979"];return e[Math.floor(Math.random()*e.length)]},a.addOrderer=function(e){var t=!!a.state.orderers.find((function(t){return t.name===e})),r=""===e;if(t)C.b.error("Orderers must be unique.");else if(r)C.b.error("Orderer is required.");else{var s=a.state.orderers;s.push({name:e,color:a.getRandomOrdererColor()}),a.setState({orderers:s})}},a.deleteOrderer=function(e){var t=a.state.orderers,r=t[e];t.splice(e,1),a.setState({orderers:t});var s=a.state.receipt.mealItems,i=[];s.forEach((function(e,t){e.orderer===r.name&&i.push(t)})),i.reverse().forEach((function(e){s.splice(e,1)}));var n=a.state.receipt;n.mealItems=s,a.setState({receipt:n})},a.updateTotal=function(e){var t=a.state.receipt;t.total=e,a.setState({receipt:t})},a.updateDeliveryFee=function(e){var t=a.state.receipt;t.deliveryFee=e,a.setState({receipt:t})},a.updateServiceFee=function(e){var t=a.state.receipt;t.serviceFee=e,a.setState({receipt:t})},a.addMealItem=function(e){var t=a.state.receipt.mealItems;t.push(e);var r=a.state.receipt;r.mealItems=t,a.setState({receipt:r})},a.deleteMealItem=function(e){var t=a.state.receipt.mealItems;t.splice(e,1);var r=a.state.receipt;r.mealItems=t,a.setState({receipt:r})},a.state={receipt:{mealItems:[],deliveryFee:"",serviceFee:"",total:""},orderers:[]},a}return Object(o.a)(r,[{key:"render",value:function(){return Object(a.jsxs)(V.a,{children:[Object(a.jsxs)(V.a.Header,{className:"white fs-30",children:[Object(a.jsx)(J.a,{spin:!0}),"   ","Uber Eats Bill Split Calculator"]}),Object(a.jsx)(V.a,{children:Object(a.jsxs)(V.a.Content,{className:"main-content",children:[Object(a.jsx)(y,{orderers:this.state.orderers,addOrderer:this.addOrderer,deleteOrderer:this.deleteOrderer}),Object(a.jsx)(z,{updateServiceFee:this.updateServiceFee,updateDeliveryFee:this.updateDeliveryFee,updateTotal:this.updateTotal,addMealItem:this.addMealItem,deleteMealItem:this.deleteMealItem,orderers:this.state.orderers,receipt:this.state.receipt}),Object(a.jsx)(B,{receipt:this.state.receipt,orderers:this.state.orderers})]})})]})}}]),r}(i.a.Component);l.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(R,{})}),document.getElementById("root"))}},[[224,1,2]]]);
//# sourceMappingURL=main.5ccbd373.chunk.js.map